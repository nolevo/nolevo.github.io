<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.ico?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="hexo,git,vps,ssr,blog">
<meta property="og:type" content="website">
<meta property="og:title" content="Nolevo&#39;s Notes">
<meta property="og:url" content="https://nolevo.github.io/index.html">
<meta property="og:site_name" content="Nolevo&#39;s Notes">
<meta property="og:description" content="hexo,git,vps,ssr,blog">
<meta property="article:author" content="Nolevo">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://nolevo.github.io/"/>





  <title>Nolevo's Notes</title>
  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-118663294-1', 'auto');
  ga('send', 'pageview');
</script>





<meta name="generator" content="Hexo 4.2.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Nolevo's Notes</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">love love love</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            æ ‡ç­¾
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            å…³äº
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://nolevo.github.io/2020/05/31/watchtower/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Nolevo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Nolevo's Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/05/31/watchtower/" itemprop="url">Watchtower - è‡ªåŠ¨æ›´æ–° Docker é•œåƒä¸å®¹å™¨</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2020-05-31T00:00:00+08:00">
                2020-05-31
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">çº¯è½¬è½½ï¼Œå¥½ç”¨çš„ä¸œè¥¿è®°å½•ä¸€ä¸‹</span><br></pre></td></tr></table></figure>


<hr>
<p>å‰è¨€<br>Docker å®¹å™¨çš„éƒ¨ç½²æœ‰ä¸€ç§åœ¨æ‰‹æœºä¸Šè£… App çš„æ„Ÿè§‰ï¼Œä½† Docker å®¹å™¨å¹¶ä¸ä¼šåƒæ‰‹æœº App é‚£æ ·ä¼šè‡ªåŠ¨æ›´æ–°ï¼Œè€Œå¦‚æœæˆ‘ä»¬éœ€è¦æ›´æ–°å®¹å™¨ä¸€èˆ¬éœ€è¦ä»¥ä¸‹å››ä¸ªæ­¥éª¤ï¼š</p>
<p>åœæ­¢å®¹å™¨ï¼šdocker stop <CONTAINER><br>åˆ é™¤å®¹å™¨ï¼šdocker rm <CONTAINER><br>æ›´æ–°é•œåƒï¼šdocker pull <IMAGE><br>å¯åŠ¨å®¹å™¨ï¼šdocker run <ARG> â€¦ <IMAGE><br>åœæ­¢å®¹å™¨è¿™ä¸ªæ­¥éª¤å¯ä»¥åœ¨åˆ é™¤å®¹å™¨æ—¶ä½¿ç”¨ -f å‚æ•°æ¥ä»£æ›¿ï¼Œå³ä½¿è¿™æ ·è¿˜æ˜¯éœ€è¦ä¸‰ä¸ªæ­¥éª¤ã€‚å¦‚æœéƒ¨ç½²äº†å¤§é‡çš„å®¹å™¨éœ€è¦æ›´æ–°ä½¿ç”¨è¿™ç§ä¼ ç»Ÿçš„æ–¹å¼å·¥ä½œé‡æ˜¯å·¨å¤§çš„ã€‚</p>
<p>Watchtower æ˜¯ä¸€ä¸ªå¯ä»¥å®ç°è‡ªåŠ¨åŒ–æ›´æ–° Docker åŸºç¡€é•œåƒä¸å®¹å™¨çš„å®ç”¨å·¥å…·ã€‚å®ƒç›‘è§†æ­£åœ¨è¿è¡Œçš„å®¹å™¨ä»¥åŠç›¸å…³çš„é•œåƒï¼Œå½“æ£€æµ‹åˆ° regÂ­istry ä¸­çš„é•œåƒä¸æœ¬åœ°çš„é•œåƒæœ‰å·®å¼‚æ—¶ï¼Œå®ƒä¼šæ‹‰å–æœ€æ–°é•œåƒå¹¶ä½¿ç”¨æœ€åˆéƒ¨ç½²æ—¶ç›¸åŒçš„å‚æ•°é‡æ–°å¯åŠ¨ç›¸åº”çš„å®¹å™¨ï¼Œä¸€åˆ‡å¥½åƒä»€ä¹ˆéƒ½æ²¡å‘ç”Ÿè¿‡ï¼Œå°±åƒæ›´æ–°æ‰‹æœºä¸Šçš„ App ä¸€æ ·ã€‚</p>
<p>å¿«é€Ÿå¼€å§‹<br>WatchÂ­tower æœ¬èº«è¢«æ‰“åŒ…ä¸º Docker é•œåƒï¼Œå› æ­¤å¯ä»¥åƒè¿è¡Œä»»ä½•å…¶ä»–å®¹å™¨ä¸€æ ·è¿è¡Œå®ƒï¼š</p>
<pre><code>docker run -d \
--name watchtower \
-v /var/run/docker.sock:/var/run/docker.sock \
containrrr/watchtower</code></pre><p>ç„¶åæ‰€æœ‰å®¹å™¨éƒ½ä¼šè‡ªåŠ¨æ›´æ–°ï¼Œä¹ŸåŒ…æ‹¬ WatchÂ­tower æœ¬èº«ã€‚</p>
<p>é€‰é¡¹å‚æ•°<br>ç‚¹å‡»æŸ¥çœ‹<br>è‡ªåŠ¨æ¸…é™¤æ—§é•œåƒ<br>å®˜æ–¹ç»™å‡ºçš„é»˜è®¤å¯åŠ¨å‘½ä»¤åœ¨é•¿æœŸä½¿ç”¨åä¼šå †ç§¯éå¸¸å¤šçš„æ ‡ç­¾ä¸º none çš„æ—§é•œåƒï¼Œå¦‚æœæ”¾ä»»ä¸ç®¡ä¼šå ç”¨å¤§é‡çš„ç£ç›˜ç©ºé—´ã€‚è¦é¿å…è¿™ç§æƒ…å†µå¯ä»¥åŠ å…¥ â€“cleanup é€‰é¡¹ï¼Œè¿™æ ·æ¯æ¬¡æ›´æ–°éƒ½ä¼šæŠŠæ—§çš„é•œåƒæ¸…ç†æ‰ã€‚</p>
<pre><code>docker run -d \
--name watchtower \
--restart unless-stopped \
-v /var/run/docker.sock:/var/run/docker.sock \
containrrr/watchtower \
--cleanup</code></pre><p>â€“cleanup é€‰é¡¹å¯ä»¥ç®€å†™ä¸º -cï¼š</p>
<pre><code>docker run -d \
--name watchtower \
--restart unless-stopped \
-v /var/run/docker.sock:/var/run/docker.sock \
containrrr/watchtower -c</code></pre><p>é€‰æ‹©æ€§è‡ªåŠ¨æ›´æ–°<br>æŸäº›å®¹å™¨å¯èƒ½éœ€è¦ç¨³å®šçš„è¿è¡Œï¼Œç»å¸¸æ›´æ–°æˆ–é‡å¯å¯èƒ½ä¼šé€ æˆä¸€äº›é—®é¢˜ï¼Œè¿™æ—¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€äº›é€‰é¡¹å‚æ•°æ¥é€‰æ‹©ä¸æ§åˆ¶å®¹å™¨çš„æ›´æ–°ã€‚</p>
<p>å®¹å™¨æ›´æ–°åˆ—è¡¨<br>å‡è®¾æˆ‘ä»¬åªæƒ³æ›´æ–° nginxã€redis è¿™ä¸¤ä¸ªå®¹å™¨ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®¹å™¨åç§°è¿½åŠ åˆ°å¯åŠ¨å‘½ä»¤çš„æœ€åé¢ï¼Œå°±åƒä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š</p>
<pre><code>docker run -d \
--name watchtower \
--restart unless-stopped \
-v /var/run/docker.sock:/var/run/docker.sock \
containrrr/watchtower -c \
nginx redis</code></pre><p>åšä¸»è§‰å¾—æŠŠéœ€è¦æ›´æ–°çš„å®¹å™¨åç§°å†™åœ¨å¯åŠ¨å‘½ä»¤ä¸­ä¸åˆ©äºç®¡ç†ï¼Œäºæ˜¯æƒ³äº†ä¸ªæ›´å¥½çš„æ–¹æ³•ï¼Œå»ºç«‹ä¸€ä¸ªæ›´æ–°åˆ—è¡¨æ–‡ä»¶ã€‚</p>
<p>$ cat ~/.watchtower.list<br>aria2-pro<br>unlockmusic<br>mtg<br>â€¦<br>é€šè¿‡å˜é‡çš„æ–¹å¼å»è°ƒç”¨è¿™ä¸ªåˆ—è¡¨ï¼š</p>
<pre><code>docker run -d \
--name watchtower \
--restart unless-stopped \
-v /var/run/docker.sock:/var/run/docker.sock \
containrrr/watchtower -c \
$(cat ~/.watchtower.list)</code></pre><p>è¿™æ ·åªéœ€è¦è°ƒæ•´åˆ—è¡¨ååˆ é™¤ WatchÂ­tower å®¹å™¨å¹¶é‡æ–°æ‰§è¡Œä¸Šé¢çš„å‘½ä»¤é‡æ–°å¯åŠ¨ WatchÂ­tower å³å¯ã€‚</p>
<p>è®¾ç½®å•ä¸ªå®¹å™¨è‡ªåŠ¨æ›´æ–°ç‰¹å¾<br>ç»™å®¹å™¨ä¸­æ·»åŠ  com.centurylinklabs.watchtower.enable è¿™ä¸ª LAÂ­BEL å¹¶è®¾ç½®å®ƒçš„å€¼ä¸º falseï¼Œæˆ–è€…åœ¨å¯åŠ¨å‘½ä»¤ä¸­åŠ å…¥ â€“label com.centurylinklabs.watchtower.enable=false å‚æ•°å¯ä»¥æ’é™¤ç›¸åº”çš„å®¹å™¨ã€‚ä¸‹é¢è¿™ä¸ªä¾‹å­æ˜¯åšä¸»çš„ openwrt-mini é•œåƒçš„å®¹å™¨å¯åŠ¨å‘½ä»¤ï¼ŒWatchÂ­tower å°†æ°¸è¿œå¿½ç•¥å®ƒçš„æ›´æ–°ï¼Œå³ä½¿å®ƒåŒ…å«åœ¨è‡ªåŠ¨æ›´æ–°åˆ—è¡¨ä¸­ã€‚</p>
<pre><code>docker run -d \
--name openwrt-mini \
--restart always \
--network openwrt \
--privileged \
--label com.centurylinklabs.watchtower.enable=false \
p3terx/openwrt-mini \
/sbin/init</code></pre><p>å½“å®¹å™¨å¯åŠ¨å‘½ä»¤ä¸­åŠ å…¥ â€“label com.centurylinklabs.watchtower.enable=true å‚æ•°ï¼Œå¹¶ä¸”ç»™ WatchÂ­tower åŠ ä¸Š â€“label-enable é€‰é¡¹æ—¶ï¼ŒWatchÂ­tower å°†åªæ›´æ–°è¿™äº›åŒ…å«æ­¤å‚æ•°çš„å®¹å™¨ã€‚</p>
<pre><code>docker run -d \
--name watchtower \
--restart unless-stopped \
-v /var/run/docker.sock:/var/run/docker.sock \
containrrr/watchtower -c \
--label-enable</code></pre><p>â€“label-enable å¯ä»¥ç®€å†™ä¸º -eï¼š</p>
<pre><code>docker run -d \
--name watchtower \
--restart unless-stopped \
-v /var/run/docker.sock:/var/run/docker.sock \
containrrr/watchtower -ce</code></pre><p>å› ä¸ºéœ€è¦åœ¨å®¹å™¨å¯åŠ¨æ—¶è¿›è¡Œè®¾ç½®ï¼Œä¸”è®¾ç½®åå°±æ— æ³•ç›´æ¥æ›´æ”¹ï¼Œåªèƒ½é‡å»ºå®¹å™¨ï¼Œæ‰€ä»¥è¿™ç§æ–¹å¼çš„çµæ´»æ€§ä¸å¦‚æ›´æ–°åˆ—è¡¨æ³•ã€‚å°¤å…¶æ˜¯åœ¨è®¾ç½® com.centurylinklabs.watchtower.enable=false å‚æ•°åå®¹å™¨å°†æ°¸è¿œè¢« WatchÂ­tower å¿½ç•¥ï¼Œä¹ŸåŒ…æ‹¬åé¢å°†è¦æåˆ°çš„æ‰‹åŠ¨æ›´æ–°æ–¹å¼ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¸æ¨èè¿™æ ·åšï¼Œé™¤éä½ æ„¿æ„æ‰‹åŠ¨é‡å»ºçš„åŸç”Ÿæ–¹å¼æ›´æ–°ã€‚</p>
<p>è®¾ç½®è‡ªåŠ¨æ›´æ–°æ£€æŸ¥é¢‘ç‡<br>é»˜è®¤æƒ…å†µä¸‹ WatchÂ­tower æ¯ 5 åˆ†é’Ÿä¼šè½®è¯¢ä¸€æ¬¡ï¼Œå¦‚æœä½ è§‰å¾—è¿™ä¸ªé¢‘ç‡å¤ªé«˜äº†å¯ä»¥ä½¿ç”¨å¦‚ä¸‹é€‰é¡¹æ¥æ§åˆ¶æ›´æ–°æ£€æŸ¥çš„é¢‘ç‡ï¼Œä½†äºŒè€…åªèƒ½é€‰æ‹©å…¶ä¸€ã€‚</p>
<p>â€“interval, -i - è®¾ç½®æ›´æ–°æ£€æµ‹æ—¶é—´é—´éš”ï¼Œå•ä½ä¸ºç§’ã€‚æ¯”å¦‚æ¯éš” 1 ä¸ªå°æ—¶æ£€æŸ¥ä¸€æ¬¡æ›´æ–°ï¼š</p>
<pre><code>docker run -d \
--name watchtower \
--restart unless-stopped \
-v /var/run/docker.sock:/var/run/docker.sock \
containrrr/watchtower -c \
--interval 3600</code></pre><p>â€“schedule, -s - è®¾ç½®å®šæ—¶æ£€æµ‹æ›´æ–°æ—¶é—´ã€‚æ ¼å¼ä¸º 6 å­—æ®µ Cron è¡¨è¾¾å¼ï¼Œè€Œéä¼ ç»Ÿçš„ 5 ä¸ªå­—æ®µã€‚æ¯”å¦‚æ¯å¤©å‡Œæ™¨ 2 ç‚¹æ£€æŸ¥ä¸€æ¬¡æ›´æ–°ï¼š</p>
<pre><code>docker run -d \
--name watchtower \
--restart unless-stopped \
-v /var/run/docker.sock:/var/run/docker.sock \
containrrr/watchtower -c \
--schedule &quot;0 2 * * * *&quot;</code></pre><p>æ‰‹åŠ¨æ›´æ–°<br>å‰é¢çš„ä½¿ç”¨æ–¹å¼éƒ½æ˜¯è®© WatchÂ­tower ä»¥ detachedï¼ˆåå°ï¼‰æ¨¡å¼åœ¨è¿è¡Œå¹¶è‡ªåŠ¨æ›´æ–°å®¹å™¨ï¼Œè€Œ WatchÂ­tower ä¹Ÿæ”¯æŒä»¥ foregroundï¼ˆå‰å°ï¼‰æ¨¡å¼æ¥ä½¿ç”¨ï¼Œå³è¿è¡Œä¸€æ¬¡é€€å‡ºå¹¶åˆ æ‰å®¹å™¨ï¼Œæ¥å®ç°æ‰‹åŠ¨æ›´æ–°å®¹å™¨ã€‚è¿™å¯¹äºå¶å°”æ›´æ–°ä¸€æ¬¡é‚£äº›ä¸åœ¨è‡ªåŠ¨æ›´æ–°åˆ—è¡¨ä¸­çš„å®¹å™¨éå¸¸æœ‰ç”¨ã€‚</p>
<p>å¯¹äº foreground æ¨¡å¼ï¼Œéœ€è¦åŠ ä¸Š â€“run-once è¿™ä¸ªä¸“ç”¨çš„é€‰é¡¹ã€‚ä¸‹é¢çš„ä¾‹å­ Docker ä¼šè¿è¡Œä¸€æ¬¡ WatchÂ­tower å¹¶æ£€æŸ¥ aria2-pro å®¹å™¨çš„åŸºç¡€é•œåƒæ›´æ–°ï¼Œæœ€ååˆ æ‰æœ¬æ¬¡è¿è¡Œåˆ›å»ºçš„ WatchÂ­tower å®¹å™¨ã€‚</p>
<pre><code>docker run --rm \
-v /var/run/docker.sock:/var/run/docker.sock \
containrrr/watchtower -c \
--run-once \
aria2-pro</code></pre><p>â€“run-once å¯ä»¥ç®€å†™ä¸º -Rï¼š</p>
<pre><code>docker run --rm \
-v /var/run/docker.sock:/var/run/docker.sock \
containrrr/watchtower -cR \
aria2-pro</code></pre><p>éœ€è¦æ³¨æ„çš„æ˜¯å½“è¿™ä¸ªå®¹å™¨è®¾ç½®è¿‡ com.centurylinklabs.watchtower.enable=false å‚æ•°æ—¶ä¸ä¼šæ›´æ–°ã€‚</p>
<p>å°¾å·´<br>ä»¥ä¸Šæ˜¯åšä¸»åœ¨ä½¿ç”¨ WatchÂ­tower ä¸­æ€»ç»“çš„ä¸€äº›ä½¿ç”¨æ–¹å¼å’Œæ–¹æ³•ï¼Œå½“ç„¶å®ƒè¿˜æœ‰ä¸€äº›å…¶å®ƒçš„åŠŸèƒ½ä¸ä½¿ç”¨æ–¹å¼ï¼Œæ¯”å¦‚ç”µå­é‚®ä»¶é€šçŸ¥ã€ç›‘è§†ç§äººæ³¨å†Œè¡¨çš„é•œåƒã€æ›´æ–°è¿œç¨‹ä¸»æœºä¸Šçš„å®¹å™¨ç­‰ï¼Œè¿™äº›å¯¹äºä¸€èˆ¬ç”¨æˆ·æ¥è¯´å¯èƒ½å¾ˆå°‘ä¼šç”¨åˆ°ï¼Œæ‰€ä»¥è¿™é‡Œå°±ä¸èµ˜è¿°äº†ï¼Œæ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¯ä»¥å»ç ”ç©¶ Watchtower å®˜æ–¹æ–‡æ¡£ã€‚</p>
<blockquote>
</blockquote>
<p>æœ¬æ–‡ä½œè€…ï¼šP3TERX</p>
<p>æœ¬æ–‡é“¾æ¥ï¼š<a href="https://p3terx.com/archives/docker-watchtower.html" target="_blank" rel="noopener">https://p3terx.com/archives/docker-watchtower.html</a></p>
<p>ç‰ˆæƒå£°æ˜ï¼šæœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ CC BY-NC-SA 4.0 è®¸å¯åè®®ã€‚éå•†ä¸šè½¬è½½åŠå¼•ç”¨è¯·æ³¨æ˜å‡ºå¤„ï¼ˆä½œè€…ã€åŸæ–‡é“¾æ¥ï¼‰ï¼Œå•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://nolevo.github.io/2020/04/30/nginx/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Nolevo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Nolevo's Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/04/30/nginx/" itemprop="url">ä¸€æ–‡æ•™æ‚¨å¦‚ä½•é€šè¿‡ Docker æ­å»ºåå‘ä»£ç† Nginxï¼Œå¹¶é…ç½® Https SSL è¯ä¹¦</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2020-04-30T00:00:00+08:00">
                2020-04-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h2 id="ä¸€ã€HTTP-æœåŠ¡"><a href="#ä¸€ã€HTTP-æœåŠ¡" class="headerlink" title="ä¸€ã€HTTP æœåŠ¡"></a>ä¸€ã€HTTP æœåŠ¡</h2><p>Nginx çš„æœ€å¤§ä½œç”¨ï¼Œå°±æ˜¯æ­å»ºä¸€ä¸ª Web Serverã€‚æœ‰äº†å®¹å™¨ï¼Œåªè¦ä¸€è¡Œå‘½ä»¤ï¼ŒæœåŠ¡å™¨å°±æ¶è®¾å¥½äº†ï¼Œå®Œå…¨ä¸ç”¨é…ç½®ã€‚</p>
<blockquote>
<p>æˆ‘è¿™é‡Œå‡è®¾VPSç»™ä½ çš„å…¬ç½‘IPæ˜¯1.1.1.1</p>
</blockquote>
<pre><code>docker container run \
-d \
-p 80:80 \
--rm \
--name mynginx \
nginx</code></pre><p>ä¸Šé¢å‘½ä»¤ä¸‹è½½å¹¶è¿è¡Œå®˜æ–¹çš„ Nginx imageï¼Œé»˜è®¤æ˜¯æœ€æ–°ç‰ˆæœ¬ï¼ˆlatestï¼‰ï¼Œå½“å‰æ˜¯ 1.17.9ã€‚å¦‚æœæœ¬æœºå®‰è£…è¿‡ä»¥å‰çš„ç‰ˆæœ¬ï¼Œè¯·åˆ æ‰é‡æ–°å®‰è£…ï¼Œå› ä¸ºåªæœ‰ 1.13.9 æ‰å¼€å§‹æ”¯æŒ server pushã€‚</p>
<p>ä¸Šé¢å‘½ä»¤çš„å„ä¸ªå‚æ•°å«ä¹‰å¦‚ä¸‹ã€‚</p>
<p>-dï¼šåœ¨åå°è¿è¡Œ<br>-p ï¼šå®¹å™¨çš„80ç«¯å£æ˜ å°„åˆ°80<br>â€“rmï¼šå®¹å™¨åœæ­¢è¿è¡Œåï¼Œè‡ªåŠ¨åˆ é™¤å®¹å™¨æ–‡ä»¶<br>â€“nameï¼šå®¹å™¨çš„åå­—ä¸ºmynginx</p>
<p>å¦‚æœæ²¡æœ‰æŠ¥é”™ï¼Œå°±å¯ä»¥æ‰“å¼€æµè§ˆå™¨è®¿é—® 1.1.1.1 äº†ã€‚æ­£å¸¸æƒ…å†µä¸‹ï¼Œæ˜¾ç¤º Nginx çš„æ¬¢è¿é¡µã€‚</p>
<p>ç„¶åï¼ŒæŠŠè¿™ä¸ªå®¹å™¨ç»ˆæ­¢ï¼Œç”±äºâ€“rmå‚æ•°çš„ä½œç”¨ï¼Œå®¹å™¨æ–‡ä»¶ä¼šè‡ªåŠ¨åˆ é™¤ã€‚</p>
<pre><code>docker container stop mynginx</code></pre><h2 id="äºŒã€æ˜ å°„ç½‘é¡µç›®å½•"><a href="#äºŒã€æ˜ å°„ç½‘é¡µç›®å½•" class="headerlink" title="äºŒã€æ˜ å°„ç½‘é¡µç›®å½•"></a>äºŒã€æ˜ å°„ç½‘é¡µç›®å½•</h2><p>ç½‘é¡µæ–‡ä»¶éƒ½åœ¨å®¹å™¨é‡Œï¼Œæ²¡æ³•ç›´æ¥ä¿®æ”¹ï¼Œæ˜¾ç„¶å¾ˆä¸æ–¹ä¾¿ã€‚ä¸‹ä¸€æ­¥å°±æ˜¯è®©ç½‘é¡µæ–‡ä»¶æ‰€åœ¨çš„ç›®å½•/usr/share/nginx/htmlæ˜ å°„åˆ°æœ¬åœ°ã€‚</p>
<p>é¦–å…ˆï¼Œæ–°å»ºä¸€ä¸ªç›®å½•ï¼Œå¹¶è¿›å…¥è¯¥ç›®å½•ã€‚</p>
<pre><code>mkdir nginx-docker-demo

cd nginx-docker-demo</code></pre><p>ç„¶åï¼Œæ–°å»ºä¸€ä¸ªhtmlå­ç›®å½•ã€‚</p>
<pre><code>mkdir html</code></pre><p>åœ¨è¿™ä¸ªå­ç›®å½•é‡Œé¢ï¼Œæ”¾ç½®ä¸€ä¸ªindex.htmlæ–‡ä»¶ï¼Œæ‰¾åˆ°è¿™ä¸ªæ–‡ä»¶å¹¶ä¿®æ”¹å†…å®¹å¦‚ä¸‹ã€‚</p>
<pre><code>&lt;h1&gt;Hello World&lt;/h1&gt;</code></pre><p>æ¥ç€ï¼Œå°±å¯ä»¥æŠŠè¿™ä¸ªå­ç›®å½•htmlï¼Œæ˜ å°„åˆ°å®¹å™¨çš„ç½‘é¡µæ–‡ä»¶ç›®å½•/usr/share/nginx/htmlã€‚</p>
<pre><code>docker container run \
-d \
-p 80:80 \
--rm \
--name mynginx \
--volume &quot;$PWD/html&quot;:/usr/share/nginx/html \
nginx</code></pre><p>æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—® 1.1.1.1ï¼Œåº”è¯¥å°±èƒ½çœ‹åˆ° Hello World äº†ã€‚</p>
<h2 id="ä¸‰ã€æ‹·è´é…ç½®"><a href="#ä¸‰ã€æ‹·è´é…ç½®" class="headerlink" title="ä¸‰ã€æ‹·è´é…ç½®"></a>ä¸‰ã€æ‹·è´é…ç½®</h2><p>ä¿®æ”¹ç½‘é¡µæ–‡ä»¶è¿˜ä¸å¤Ÿï¼Œè¿˜è¦ä¿®æ”¹ Nginx çš„é…ç½®æ–‡ä»¶ï¼Œå¦åˆ™åé¢æ²¡æ³•åŠ  SSL æ”¯æŒã€‚
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2020/04/30/nginx/#more" rel="contents">
              é˜…è¯»å…¨æ–‡ &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://nolevo.github.io/2020/04/30/yiming/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Nolevo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Nolevo's Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/04/30/yiming/" itemprop="url">åˆæ˜¯åŸŸåæ›´æ–°æ—¶ï¼Œç‚¹äº®httpså°é”</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2020-04-30T00:00:00+08:00">
                2020-04-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>æ–°çš„ä¸€å¹´ä½¿ç”¨æœŸåŸŸåï¼šNolevo.ga</p>
<hr>
<p>æµç¨‹å¤§æ¦‚å¦‚ä¸‹ï¼š</p>
<h2 id="ä¸€ã€Freenomç”³è¯·åŸŸå"><a href="#ä¸€ã€Freenomç”³è¯·åŸŸå" class="headerlink" title="ä¸€ã€Freenomç”³è¯·åŸŸå"></a>ä¸€ã€Freenomç”³è¯·åŸŸå</h2><p>ç”³è¯·æˆåŠŸå…³é”®ç‚¹æ˜¯æœ¬æœºipä¸€å®šè¦å¯¹åº”åœ¨æ³¨å†Œfreenomæ—¶å¡«çš„åœ°åŒºï¼Œä¾‹å¦‚æˆ‘å½“åˆå¡«çš„æ˜¯ä¸­å›½ï¼Œæ‰€ä»¥å°±ä¸è¦å¼€ä»£ç†äº†ã€‚å˜»å˜»ï¼</p>
<h2 id="äºŒã€DNSpodè§£æåŸŸå"><a href="#äºŒã€DNSpodè§£æåŸŸå" class="headerlink" title="äºŒã€DNSpodè§£æåŸŸå"></a>äºŒã€DNSpodè§£æåŸŸå</h2><p><a href="https://console.dnspod.cn/dns/list" target="_blank" rel="noopener" title="DNSpod">https://console.dnspod.cn/dns/list</a><br><img src="https://google.nolevo.workers.dev/photo/dnspod.png" alt=""></p>
<h2 id="ä¸‰ã€Githubä¿®æ”¹CNAME"><a href="#ä¸‰ã€Githubä¿®æ”¹CNAME" class="headerlink" title="ä¸‰ã€Githubä¿®æ”¹CNAME"></a>ä¸‰ã€Githubä¿®æ”¹CNAME</h2><p><img src="https://google.nolevo.workers.dev/photo/GITHUB.png" alt=""></p>
<p>ç‚¹äº®å°é”å‚è€ƒ</p>
<p><a href="https://help.github.com/en/github/working-with-github-pages/managing-a-custom-domain-for-your-github-pages-site" target="_blank" rel="noopener">https://help.github.com/en/github/working-with-github-pages/managing-a-custom-domain-for-your-github-pages-site</a></p>
<p><strong>æ³¨æ„æ³¨æ„æ³¨æ„</strong></p>
<pre><code>æ’å…¥çš„å›¾ç‰‡å¿…é¡»æ˜¯httpså¼€å¤´çš„ï¼Œå¦‚æœæ˜¯httpå¼€å¤´çš„è¿˜æ˜¯ä¼šæç¤ºä¸å®‰å…¨</code></pre><hr>
<p><strong>End</strong></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://nolevo.github.io/2020/04/27/win10ip/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Nolevo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Nolevo's Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/04/27/win10ip/" itemprop="url">win10ç”µè„‘é€šè¿‡batè„šæœ¬è‡ªåŠ¨é…ç½®IPåœ°å€</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2020-04-27T23:19:02+08:00">
                2020-04-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>å‰å‡ å¤©ç”µè„‘å®‰è£…äº†windows10,éœ€è¦éšæ—¶åˆ‡æ¢IPåœ°å€ã€IPç½‘å…³ä¹‹ç±»ï¼Œæ‰€ä»¥å°±åœ¨ç½‘ä¸Šæ¢ç´¢äº†æ•™ç¨‹ï¼Œå¹¶ä¿®æ”¹ä¸ºé€‚åˆè‡ªå·±ä½¿ç”¨çš„ã€‚</p>
<h1 id="1-ä»£ç éƒ¨åˆ†"><a href="#1-ä»£ç éƒ¨åˆ†" class="headerlink" title="1 ä»£ç éƒ¨åˆ†"></a>1 ä»£ç éƒ¨åˆ†</h1><pre><code>@echo off
rem //ã€é™„ï¼šè¯¥.batå‘½ä»¤åªé€‚åˆwindows10ç³»ç»Ÿï¼Œwin7æœ¬äººæ²¡æœ‰æµ‹è¯•ï¼Œä»£ç æºè‡ªäº’è”ç½‘ã€‘ä¸‹é¢ä¸€è¡Œå‘½ä»¤æ˜¯å¼ºåˆ¶è·å–ç®¡ç†å‘˜æƒé™
%1 mshta vbscript:CreateObject(&quot;Shell.Application&quot;).ShellExecute(&quot;cmd.exe&quot;,&quot;/c %~s0 ::&quot;,&quot;&quot;,&quot;runas&quot;,1)(window.close)&amp;&amp;exit
rem //è®¾ç½®å˜é‡ 
set NAME=&quot;ä»¥å¤ªç½‘&quot;
rem //ä»¥ä¸‹å±æ€§å€¼éœ€è¦æ ¹æ®è‡ªå·±çš„å®é™…æƒ…å†µæ›´æ”¹ï¼Œä¾‹å¦‚æˆ‘çš„IPæ®µæ˜¯10.0.0.0/24
set ADDR=10.0.0.38
set MASK=255.0.0.0
set GATEWAY=10.0.0.10
set DNS1=10.0.0.10
set DNS2=
rem //ä»¥ä¸Šå±æ€§ä¾æ¬¡ä¸ºIPåœ°å€ã€å­ç½‘æ©ç ã€ç½‘å…³ã€é¦–é€‰DNSã€å¤‡ç”¨DNS


echo å½“å‰å¯ç”¨æ“ä½œæœ‰ï¼š
echo 1 è®¾ç½®ä¸ºé™æ€IP
echo 2 è®¾ç½®ä¸ºåŠ¨æ€IP
echo 3 é€€å‡º
echo è¯·é€‰æ‹©åå›è½¦ï¼š
set /p operate=
if %operate%==1 goto 1
if %operate%==2 goto 2
if %operate%==3 goto 3


:1
echo æ­£åœ¨è®¾ç½®é™æ€IPï¼Œè¯·ç¨ç­‰ï¼
rem //å¯ä»¥æ ¹æ®ä½ çš„éœ€è¦æ›´æ”¹ 
echo IPåœ°å€ = %ADDR%
echo æ©ç  = %MASK%
echo ç½‘å…³ = %GATEWAY%
netsh interface ipv4 set address %NAME% static %ADDR% %MASK% %GATEWAY% 
echo é¦–é€‰DNS = %DNS1% 
netsh interface ipv4 set dns %NAME% static %DNS1% register=PRIMARY validate=no
echo å¤‡ç”¨DNS = %DNS2% 
if &quot;%DNS2%&quot;==&quot;&quot; (echo DNS2æ²¡æœ‰è®¾ç½®) else (netsh interface ipv4 add dns %NAME% %DNS2%) 
echo é™æ€IPå·²è®¾ç½®ï¼
pause
goto 3


:2
echo æ­£åœ¨è®¾ç½®åŠ¨æ€IPï¼Œè¯·ç¨ç­‰ï¼
echo æ­£åœ¨ä»DHCPè‡ªåŠ¨è·å–IPåœ°å€...
netsh interface ip set address %NAME% dhcp
echo æ­£åœ¨ä»DHCPè‡ªåŠ¨è·å–DNSåœ°å€...
netsh interface ip set dns %NAME% dhcp 
echo åŠ¨æ€IPå·²è®¾ç½®ï¼
pause
goto 3


:3
exit</code></pre><h1 id="2-æ–‡ä»¶ç¼–ç "><a href="#2-æ–‡ä»¶ç¼–ç " class="headerlink" title="2 æ–‡ä»¶ç¼–ç "></a>2 æ–‡ä»¶ç¼–ç </h1>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2020/04/27/win10ip/#more" rel="contents">
              é˜…è¯»å…¨æ–‡ &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://nolevo.github.io/2020/04/27/hexo-sj/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Nolevo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Nolevo's Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/04/27/hexo-sj/" itemprop="url">å‡çº§hexoå’Œä¸»é¢˜ï¼Œå¹¶é‡æ–°éƒ¨ç½²åˆ°github</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2020-04-27T12:09:09+08:00">
                2020-04-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>ğŸ“‹<br>ç¬¬ä¸€æ¬¡éƒ¨ç½²è¿™ä¸ªåšå®¢æ˜¯åœ¨2017å¹´11æœˆï¼Œå·²ç»è¿‡å»å·®ä¸å¤šä¸‰å¹´äº†ã€‚ä»Šå¤©æœ‰ç©ºå°±æŠŠhexoå’Œnextä¸»é¢˜å‡çº§ä¸€ä¸‹å§ï¼Œå¹¶è®°å½•ä¸€ä¸‹ã€‚</p>
<blockquote>
<p>æ²¡æœ‰æ›´å¤šäº†ï¼Œå‘µå‘µ</p>
</blockquote>
<p>End</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://nolevo.github.io/2019/11/29/docker/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Nolevo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Nolevo's Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/11/29/docker/" itemprop="url">è°·æ­Œäº‘dockerç›¸å…³æ•™ç¨‹</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-11-29T00:00:00+08:00">
                2019-11-29
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <hr>
<p>æœ¬æ–‡ä¸»è¦æ˜¯ä¸ºäº†è®°å½•æœ¬äººåœ¨dockerä¸‹å®‰è£…å„ç§çš„Containersæ–¹æ³•ã€‚<br>æ­¥éª¤ä¸€å’Œæ­¥éª¤äºŒå¯ä¸ç”¨è®¾ç½®ï¼Œæˆ‘è®¾ç½®æ˜¯ä¸ºäº†åœ¨ç”µè„‘ç›´æ¥SSHã€‚å› ä¸ºè°·æ­Œäº‘çš„è‡ªå¸¦ç½‘é¡µç‰ˆSSHå¤ªæ…¢äº†ï¼Œç„¶åæƒ³å¤åˆ¶æˆ–ä¸Šä¼ æ–‡ä»¶éƒ½éš¾ã€‚</p>
<p>æ–°å»ºVMå®ä¾‹ï¼Œå®Œæˆåè¿›å…¥SSH</p>
<h1 id="ä¸€ã€è®¾ç½®rootå¯†ç "><a href="#ä¸€ã€è®¾ç½®rootå¯†ç " class="headerlink" title="ä¸€ã€è®¾ç½®rootå¯†ç "></a>ä¸€ã€è®¾ç½®rootå¯†ç </h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo -i</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd</span><br></pre></td></tr></table></figure>

<p>ç„¶åä¼šè¦æ±‚è¾“å…¥æ–°å¯†ç ï¼Œç„¶åå†é‡å¤ä¸€æ¬¡å¯†ç ï¼Œè¾“å…¥å¯†ç çš„æ—¶å€™ä¸ä¼šæ˜¾ç¤ºå‡ºæ¥ï¼Œæ‰€ä»¥ç›´æ¥è¾“å…¥å¯†ç ï¼Œç„¶åå›è½¦ï¼Œå†ç„¶åé‡å¤è¾“å…¥å¯†ç å›è½¦</p>
<h1 id="äºŒã€å¼€å¯SSHæƒé™"><a href="#äºŒã€å¼€å¯SSHæƒé™" class="headerlink" title="äºŒã€å¼€å¯SSHæƒé™"></a>äºŒã€å¼€å¯SSHæƒé™</h1><p>1.ä¿®æ”¹SSHé…ç½®æ–‡ä»¶/etc/ssh/sshd_config</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi &#x2F;etc&#x2F;ssh&#x2F;sshd_config</span><br></pre></td></tr></table></figure>

<p>2.ç„¶åå†è¾“â€iâ€è¿›å…¥ç¼–è¾‘æ¨¡å¼</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">i</span><br></pre></td></tr></table></figure>

<p> 3.æ‰¾åˆ°ä»¥ä¸‹å†…å®¹å¹¶ä¿®æ”¹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">PermitRootLogin yes           &#x2F;&#x2F;é»˜è®¤ä¸ºnoï¼Œéœ€è¦å¼€å¯rootç”¨æˆ·è®¿é—®æ”¹ä¸ºyes</span><br><span class="line">PasswordAuthentication yes    &#x2F;&#x2F;é»˜è®¤ä¸ºnoï¼Œæ”¹ä¸ºyeså¼€å¯å¯†ç ç™»é™†</span><br></pre></td></tr></table></figure>

<p>4.ä¿®æ”¹å®Œæˆåï¼Œå†ä¸‹æŒ‰ esc é”®ï¼Œç„¶åå†è¾“å…¥</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:wq</span><br></pre></td></tr></table></figure>

<p>5.é‡å¯æœåŠ¡å™¨   </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">reboot</span><br></pre></td></tr></table></figure>

<h1 id="ä¸‰ã€debianå®‰è£…dockerå’Œdockeré¢æ¿Portainer"><a href="#ä¸‰ã€debianå®‰è£…dockerå’Œdockeré¢æ¿Portainer" class="headerlink" title="ä¸‰ã€debianå®‰è£…dockerå’Œdockeré¢æ¿Portainer"></a>ä¸‰ã€debianå®‰è£…dockerå’Œdockeré¢æ¿Portainer</h1><p>1.ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„docker</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -sSL https:&#x2F;&#x2F;get.docker.com&#x2F; | sh</span><br></pre></td></tr></table></figure>

<p>2.å¼€å¯dockeræœåŠ¡å¹¶è®¾ç½®å¼€æœºå¯åŠ¨</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl start docker.service    </span><br><span class="line">systemctl enable docker.service</span><br></pre></td></tr></table></figure>

<p>3.ç„¶ååˆ›å»ºPortainerå·</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker volume create portainer_data</span><br></pre></td></tr></table></figure>

<p>4.å®‰è£…dockeré¢æ¿Portainer</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p 9000:9000 --name portainer --restart always -v &#x2F;var&#x2F;run&#x2F;docker.sock:&#x2F;var&#x2F;run&#x2F;docker.sock -v portainer_data:&#x2F;data portainer&#x2F;portainer</span><br></pre></td></tr></table></figure>

<p>è®¿é—®ä½ çš„ip:9000,è¿›å…¥åˆå§‹åŒ–ï¼Œè®¾ç½®ä¸€ä¸ªç®¡ç†å‘˜å¯†ç ã€‚ã€‚ã€‚
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2019/11/29/docker/#more" rel="contents">
              é˜…è¯»å…¨æ–‡ &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://nolevo.github.io/2019/10/19/frp/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Nolevo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Nolevo's Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/10/19/frp/" itemprop="url">å…³äºFrpå†…ç½‘ç©¿é€aria2é‚£äº›äº‹</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-10-19T21:40:35+08:00">
                2019-10-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>å¼€å§‹ä¹‹å‰ï¼Œå…ˆè¯´ä¸€ä¸‹æˆ‘çš„é…ç½®ï¼š<br>ç¾¤æ™–é‡Œå®‰è£…äº†OpenWrt x86,è¿™ä¸ªOpenWrtå·²ç»è‡ªå¸¦äº†Frpå†…ç½‘ç©¿é€å®¢æˆ·ç«¯ï¼Œåªéœ€è¦ç®€å•è®¾ç½®ä¸€ä¸‹å‚æ•°å°±å¯ä»¥ã€‚FrpæœåŠ¡ç«¯æ˜¯å®‰è£…åœ¨è°·æ­Œäº‘ã€‚<br>ariaæ˜¯å®‰è£…åœ¨ç¾¤æ™–dockerä¸‹çš„ï¼Œæ€ä¹ˆå®‰è£…å°±ä¸è¯´äº†ï¼Œç½‘ä¸Šæœç´¢ä¸€ä¸‹å°±æœ‰æ•™ç¨‹äº†ã€‚<br>åŸŸåè§£æç”¨çš„æ˜¯é˜¿é‡Œäº‘DNSï¼Œæ³¨å†Œäº†ä¸€ä¸ªåŸŸåèŠ±äº†å‡ å—é’±ã€‚<br>æˆ‘çš„å†…ç½‘è®¿é—®æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œå…³é”®æ˜¯å¦‚ä½•é€šè¿‡Frpå†…ç½‘ç©¿é€æ¥å¤–ç½‘è®¿é—®ã€‚è¿™ä¸ªç½‘ä¸Šæœç´¢åˆ°çš„æ•™ç¨‹å°±å¾ˆå°‘äº†ï¼ˆæˆ–è€…æ˜¯æˆ‘è‡ªå·±æœç´¢çš„å…³é”®å­—ä¸å‡†å§ï¼‰ã€‚è‡ªå·±æ‘¸ç´¢äº†åŠå¤©ï¼Œç»ˆäºç»™æˆ‘æƒ³é€šäº†ã€‚å…³é”®ç‚¹æ˜¯RPCé‚£é‡Œçš„è®¾ç½®ã€‚<br>æˆ‘çš„æ–¹æ³•æ˜¯å…ˆåœ¨openwrté‡Œçš„å†…ç½‘ç©¿é€è®¾ç½®ä¸¤ä¸ªé¡¹ç›®ï¼ˆå¦‚å›¾ï¼‰<br><img src="https://s2.ax1x.com/2019/11/30/QZVsRx.png" alt="QZVsRx.png"><br>ã€å½“ç„¶è¿˜è¦åœ¨åŸŸåè§£æå“ªé‡Œè®¾ç½®å¥½è¿™ä¸¤ä¸ªäºŒçº§åŸŸåã€‘<br>è®¾ç½®å¥½ä¸Šé¢ä¸¤ä¸ªé¡¹ç›®åå°±å¯ä»¥é€šè¿‡ b.ä½ çš„åŸŸå.xxx ç™»å½•åˆ°ä½ çš„å¤–ç½‘ariaï¼Œè¿™ä¸ªæ—¶å€™æ˜¾ç¤ºæ˜¯æœªè¿æ¥çš„ï¼Œä½ è¿˜éœ€è¦è®¾ç½®ä¸€ä¸‹RPCï¼Œè®¾ç½®å¦‚å›¾æ‰€ç¤ºï¼š<br><img src="https://s2.ax1x.com/2019/11/30/QZV8Gq.png" alt="QZV8Gq.png"><br>å›¾ç‰‡é‡Œçš„æ­¥éª¤3æ˜¯å…³é”®ï¼Œç«¯å£æ˜¯ä½ åœ¨è·¯ç”±é‡Œå¡«çš„è¿œç¨‹ç«¯å£ï¼Œä¾‹å¦‚æˆ‘çš„æ˜¯8080</p>
<p>å…¨éƒ¨è®¾ç½®å¥½å°±ç‚¹é‡æ–°åŠ è½½é¡µé¢ï¼Œè¿™æ—¶å¯ä»¥çœ‹åˆ°aria2çŠ¶æ€å·²ç»æ˜¾ç¤ºä¸º å·²è¿æ¥ã€‚7200å¹²å®ƒï¼ï¼ï¼</p>
<hr>
<p>End</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://nolevo.github.io/2019/07/28/ip/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Nolevo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Nolevo's Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/07/28/ip/" itemprop="url">å¿«é€Ÿæ›´æ¢IPåœ°å€</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-07-28T00:00:00+08:00">
                2019-07-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-æ‰“å¼€ä¸€ä¸ªè®°äº‹æœ¬-lt-å»ºè®®ç”¨notepad-gt"><a href="#1-æ‰“å¼€ä¸€ä¸ªè®°äº‹æœ¬-lt-å»ºè®®ç”¨notepad-gt" class="headerlink" title="1.æ‰“å¼€ä¸€ä¸ªè®°äº‹æœ¬&lt;å»ºè®®ç”¨notepad++&gt;"></a>1.æ‰“å¼€ä¸€ä¸ªè®°äº‹æœ¬&lt;å»ºè®®ç”¨notepad++&gt;</h1><p>é™æ€IPè„šæœ¬ï¼š<br>åœ¨è®°äº‹æœ¬ä¸­ç²˜è´´ä»¥ä¸‹ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netsh interface ip set address name&#x3D;&quot;æœ¬åœ°è¿æ¥&quot; source&#x3D;static addr&#x3D;10.0.0.7 mask&#x3D;255.255.255.0 gateway&#x3D;10.0.0.10</span><br></pre></td></tr></table></figure>


<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netsh interface ip set dns name&#x3D;&quot;æœ¬åœ°è¿æ¥&quot; source&#x3D;static addr&#x3D;114.114.114.114</span><br></pre></td></tr></table></figure>

<p>ç¬¬ä¸€æ¡è¯­å¥ä¸­ï¼Œip set addressæ˜¯è®¾ç½®IPåœ°å€<br>name=â€œæœ¬åœ°è¿æ¥â€æ˜¯æŒ‡ä½ ç”¨é‚£ä¸ªè¿æ¥ä¸Šç½‘çš„ï¼Œæ¯ä¸ªäººçš„ç”µè„‘ä¸åŒï¼Œæ ¹æ®è‡ªå·±çš„æƒ…å†µæ¥ä¿®æ”¹<br>source=staticæ˜¯æŒ‡ï¼Œä½ è®¾ç½®çš„æ˜¯é™æ€IP<br>addræ˜¯æŒ‡IPåœ°å€<br>maskæŒ‡å­ç½‘æ©ç <br>gatewayæŒ‡é»˜è®¤ç½‘å…³</p>
<p>ç¬¬äºŒæ¡è¯­å¥ä¸­ï¼Œip set dnsæ˜¯æŒ‡è®¾ç½®DNSæœåŠ¡å™¨åœ°å€<br>addræ˜¯é¦–é€‰DNSæœåŠ¡å™¨<br>æ ¹æ®è‡ªå·±çš„éœ€è¦è¿›è¡Œä¿®æ”¹å°±OKå•¦</p>
<p>åŠ¨æ€IPè„šæœ¬<br>åœ¨è®°äº‹æœ¬ä¸­ç²˜è´´ä»¥ä¸‹ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netsh interface ip set address name&#x3D;&quot;æœ¬åœ°è¿æ¥&quot; source&#x3D;dhcp</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netsh interface ip set dns name&#x3D;&quot;æœ¬åœ°è¿æ¥&quot; source&#x3D;dhcp</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªè®¾ç½®çš„æ˜¯è‡ªåŠ¨è·å–ip</p>
<h1 id="2-ä¿å­˜"><a href="#2-ä¿å­˜" class="headerlink" title="2.ä¿å­˜"></a>2.ä¿å­˜</h1><h2 id="ä¿å­˜çš„æ—¶å€™è¦æ³¨æ„ä¸€ä¸‹ï¼Œæ–‡ä»¶åè¦ä»¥-batç»“å°¾ï¼Œç¼–ç è½¬ä¸ºANSI"><a href="#ä¿å­˜çš„æ—¶å€™è¦æ³¨æ„ä¸€ä¸‹ï¼Œæ–‡ä»¶åè¦ä»¥-batç»“å°¾ï¼Œç¼–ç è½¬ä¸ºANSI" class="headerlink" title="ä¿å­˜çš„æ—¶å€™è¦æ³¨æ„ä¸€ä¸‹ï¼Œæ–‡ä»¶åè¦ä»¥.batç»“å°¾ï¼Œç¼–ç è½¬ä¸ºANSI"></a>ä¿å­˜çš„æ—¶å€™è¦æ³¨æ„ä¸€ä¸‹ï¼Œæ–‡ä»¶åè¦ä»¥.batç»“å°¾ï¼Œç¼–ç è½¬ä¸ºANSI</h2><p>End</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://nolevo.github.io/2019/07/23/nas/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Nolevo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Nolevo's Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/07/23/nas/" itemprop="url">ç¾¤æ™–openwrtç›¸å…³å‚è€ƒ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-07-23T00:00:00+08:00">
                2019-07-23
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<p><strong>æ–‡å­—ç‰ˆæ•™ç¨‹å‚è€ƒï¼š</strong><br>å•ç½‘å£ç¾¤æ™–ä½¿ç”¨ Virtual Machine Manager å®‰è£… Koolshare OpenWRT ä½œä¸ºæ—è·¯ç½‘å…³</p>
<p>é“¾æ¥ï¼š<a href="https://blog.skk.moe/post/nas-dsm-vmm-lede/" target="_blank" rel="noopener">https://blog.skk.moe/post/nas-dsm-vmm-lede/</a></p>
<p><strong>è§†é¢‘ç‰ˆæ•™ç¨‹å‚è€ƒï¼š</strong></p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/8CdsHO55AgA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://nolevo.github.io/2019/06/06/bz/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Nolevo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Nolevo's Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/06/06/bz/" itemprop="url">ç¬”è®°</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-06-06T00:00:00+08:00">
                2019-06-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">çº¯ç¬”è®°</span><br></pre></td></tr></table></figure>


<hr>
<p>vi /etc/config/network åï¼ŒæŒ‰iï¼ˆè‹±æ–‡i)è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œä¿®æ”¹æˆä¸Šé¢çš„å€¼ã€‚<br>ä¿®æ”¹å®Œæˆåï¼ŒæŒ‰ESCé€€å‡ºvimçš„ç¼–è¾‘æ¨¡å¼<br>ç„¶åè¾“å…¥:wq<br>ä¿å­˜å¹¶é€€å‡º</p>
<p>ä¿å­˜åï¼Œé‡å¯ç½‘ç»œè®©é…ç½®ç”Ÿæ•ˆ<br>root@Openwrt:<del># service network restart<br>å¯ä»¥pingç½‘å…³æµ‹è¯•ä¸€ä¸‹<br>root@Openwrt:</del># ping 10.0.0.12<br>linuxä¸‹çš„pingå’Œwindowsä¸‹çš„pingç¨æœ‰åŒºåˆ«,linuxä¸‹pingä¸ä¼šè‡ªåŠ¨ç»ˆæ­¢,éœ€è¦æŒ‰ctrl+cç»ˆæ­¢æˆ–è€…ç”¨å‚æ•°-cæŒ‡å®šè¦æ±‚å®Œæˆçš„å›åº”æ¬¡æ•°</p>
<p>å®ä¾‹4ï¼špingæŒ‡å®šæ¬¡æ•°</p>
<p>å‘½ä»¤ï¼š</p>
<p>ping -c 10 192.168.1.123</p>
<p>æ¢å¤å‡ºå‚è®¾ç½®<br>root@Openwrt:<del># firstboot<br>é‡å¯è·¯ç”±<br>root@Openwrt:</del># reboot</p>
<p>åœ¨openwrtç³»ç»Ÿä¸­å‘ç°æ²¡æœ‰shutdownå‘½ä»¤ï¼Œå¯ä»¥é‡‡ç”¨ä¸‹é¢çš„å‘½ä»¤å…³é—­ç³»ç»Ÿã€‚</p>
<p>kill -USR1 1 æ³¨æ„ï¼šç³»ç»Ÿä¼šç«‹å³å…³é—­</p>
<p>kill -USR2 1 æ•ˆæœç­‰äºrebootã€‚</p>
<p>æŸé¥®æ–™ä»£ç <br>echo 0xDEADBEEF &gt; /etc/config/google_fu_mode</p>
<p>chmod +x img2kvm</p>
<p>./img2kvm synoboot.img 104 vm-104-disk-1<br>./img2kvm lede.img 103 vm-103-disk-1<br>./img2kvm lede.img 103 vm-103-disk-1</p>
<p>å›åˆ°proxmoxçš„shell</p>
<p>è¾“å…¥apt-get update æ›´æ–°ä¸€ä¸‹æº</p>
<p>apt-get install lshw å®‰è£…lshw</p>
<p>ls -l /dev/disk/by-id/ æŸ¥çœ‹è®¾å¤‡çš„ç£ç›˜ID</p>
<p>qm set 104 â€“sata2 /dev/disk/by-id/ata-WDC-xxxxxxxxxx</p>
<p>ä¸Šä¸€è¡Œä»£ç ä¸­ï¼Œ 104ä»£è¡¨VMIDï¼Œsata2ä»£è¡¨æ€»çº¿ç±»å‹ä»¥åŠç¼–å·ï¼Œæœ€åé¢çš„æ˜¯ç¡¬ç›˜çš„è·¯å¾„ä»¥åŠç¼–å·</p>
<p>ç¡¬ç›˜ç›´é€šå°±å®Œæˆäº†ï¼Œæˆ‘ä»¬ç”¨åŒæ ·çš„æ–¹æ³•æŠŠå¦å¤–3ä¸ªç¡¬ç›˜ä¹Ÿç›´é€šç»™ç¾¤æ™–ä½¿ç”¨ï¼Œæ³¨æ„sataçš„ç¼–å·è¦å¢é‡ä¸èƒ½ç›¸åŒï¼Œæ¯”å¦‚ç¬¬äºŒä¸ªç›´é€šçš„ç£ç›˜å°±æ˜¯sata3</p>
<p>CLIæ–¹å¼</p>
<p>æ­¤æ­¥éª¤éœ€è¦åœ¨shellä¸‹è¿›è¡Œï¼ŒPVEå·²ç»é›†æˆäº†shellï¼Œå½“ç„¶äº¦å¯ä½¿ç”¨sshå·¥å…·è¿æ¥åˆ°PVEä¸»æœºæ¥æ‰§è¡Œshellå‘½ä»¤ï¼Œå…¶å…·ä½“å‘½ä»¤åŠå‚æ•°å¦‚ä¸‹ï¼š</p>
<p>lshw -C storage -C disk</p>
<p>å…¶ä¸­ï¼Œlshwå‘½ä»¤æ˜¯linuxç³»ç»Ÿä¸‹æŸ¥çœ‹ç¡¬ä»¶ä¿¡æ¯çš„å·¥å…·ï¼Œå¯ä»¥åˆ—å‡ºç³»ç»Ÿè¯†åˆ«åˆ°çš„ç¡¬ä»¶ä¿¡æ¯ã€‚å‚æ•°-C <class>æ˜¯æŒ‡å®šç±»åˆ«ä¸ºâ€œclassâ€æ¥è¿‡æ»¤è·Ÿç¡¬ä»¶ä¸­è·Ÿå…¶æœ‰å…³çš„ä¿¡æ¯ï¼Œè¿™é‡ŒæŒ‡å®šäº†ç±»åˆ«ä¸ºstorageï¼ˆå­˜å‚¨ï¼‰å’Œdiskï¼ˆç£ç›˜ï¼‰æ¥æ˜¾ç¤ºè·Ÿç£ç›˜è®¾å¤‡ç›¸å…³çš„ä¿¡æ¯ã€‚</p>
<p>åœ¨è¿™é‡Œè®°å½•å·²è¯†åˆ«çš„ç£ç›˜çš„å‹å·å’Œåºåˆ—å·ä¿¡æ¯ã€‚</p>
<p>è‹¥ç³»ç»Ÿä¸æ”¯æŒæ­¤å‘½ä»¤ï¼Œéœ€è¦å…ˆå®‰è£…ä¸‹lshwè½¯ä»¶åŒ…ï¼Œå…¶å‘½ä»¤å¦‚ä¸‹ï¼š</p>
<p>apt-get update apt-get install lshw</p>
<p>è™½ç„¶ä¸¤ç§æ–¹å¼éƒ½å¯ä»¥è·å–ç‰©ç†ç£ç›˜çš„ä¿¡æ¯ï¼Œä½†CLIæ–¹å¼æ¯”WebUIæ–¹å¼è·å–çš„ä¿¡æ¯æ›´ä¸ºè¯¦ç»†ï¼Œæ•…æ¨èCLIæ–¹å¼</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/2/">ä¸‹ä¸€é¡µ</a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Nolevo</p>
              <p class="site-description motion-element" itemprop="description">hexo,git,vps,ssr,blog</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/%7C%7C%20archive">
              
                  <span class="site-state-item-count">49</span>
                  <span class="site-state-item-name">æ—¥å¿—</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">44</span>
                  <span class="site-state-item-name">æ ‡ç­¾</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-apple"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Nolevo</span>

  
</div>


  <div class="powered-by">ç”± <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">ä¸»é¢˜  <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.4</div>




        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      æœ¬ç«™è®¿å®¢æ•°
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      äººæ¬¡
    </span>
  

  
    <span class="site-pv">
      æœ¬ç«™æ€»è®¿é—®é‡
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      æ¬¡
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
